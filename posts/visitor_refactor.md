---
title: "방문자 UI 리팩토링 여정 (RSC, Server Actions)"
date: "2026-01-13 15:40:36"
category: "개발"
description: "서버 컴포넌트, 클라이언트 컴포넌트, 서버 액션을 활용해 방문자 UI를 리팩토링해보자."
---

## 서론: 구조가 이상해요
지금 내 방문자 UI는 <b>클라이언트 컴포넌트</b>로서 렌더링될 때, <b>Route API</b>를 통해서 서버에
redis 객체를 통해 방문자 수 증가와 조회를 동시에 수행하는 구조이다.

방문자라는 기능의 특성상, 방문자 수 증가와 조회가 원자적으로 이뤄져야 하는 것 같다고 생각해서 개발 당시에는 이렇게 구현을
했었다.

하지만 반드시 그럴 필요가 있을까?

## 현재 구조
앞서 말했듯이 나는 서버 내에서 아래와 같은 로직으로 방문자를 처리한다.

<b>1. 일단 조회</b>
    <code>- unstable_cache</code>를 사용해서 10분 단위로 방문자 수의 데이터를 얻는다. 


